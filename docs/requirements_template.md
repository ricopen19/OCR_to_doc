# 要件定義シート（テンプレート）

各項目について質問に回答し、PoC→実装の判断材料とする。

## 1. 基本情報
- **機能名 / バージョン**: （例: プレーンテキスト出力 v1.0）
- **作成日 / 作成者**: 
2025-11-23 t_ryohei

## 2. 目的・背景
- この機能を作りたい理由は何か？

スマホで撮った画像や iOS の「書類をスキャン」で作った PDF を入力に、日本語 OCR と図表の切り出し、Markdown 正規化と Word/将来的な Excel 変換を段階的に実現するためのツール群を作りたい。

- どの業務フロー・ユーザー課題を解決するか？
wordやexcelを使う教職員／学生（後者はいわゆるexcel方眼紙のような用途）

## 3. 成功条件（定量）
- 期待する精度・処理時間・カバレッジなど、具体的な数値は？
誤字率2%未満
処理時間: 1ページあたり30秒以内

- 合格ラインとベストラインを分けて記載。
合格ライン: 誤字率2%未満
ベストライン: 誤字率1%未満
処理時間: 1ページあたり30秒以内
カバレッジ: 100%


## 4. 入力データ・制約
- サンプルPDF/画像はどの種類か？ページ数・品質は？
スマホで撮った画像（手書き含む）や iOS の「書類をスキャン」で作った PDF
ページ数: 1〜100ページ
品質: 高品質

- オフライン処理・ローカル完結など守るべきセキュリティ要件は？
ローカル完結

## 5. リスク・懸念事項
- 技術的に不確実な部分は？（例: 数式OCR精度、メモリ使用量）
数式OCR精度が低く再現できない可能性がある。
PCスペックによっては処理時間が長くなったりクラッシュする可能性がある。

- 失敗した場合の影響や回避策は？
オプションでローカルLLMを使って数式OCRを再現する。
yomitokuの品質を下げる
一度に処理するページ数を減らす
処理の間に休憩を設ける

## 6. PoC 計画
- **検証内容**: 何を証明できれば実装可能と判断できるか？
数式OCR→Latex→Word数式の変換を検証する。
- **検証手順**: 使用ツール・データセット・評価方法は？
pix2textを使って数式OCR精度を検証する。
- **担当 / 期限**: 誰がいつまでに PoC を実施するか？
t_ryohei 2025-11-24

## 7. 実装判断
- PoC 結果まとめ（成功条件を満たしたか）
pix2textによるLatexの変換精度は低い（特に分数式）。

- 実装する／見送る／保留 の判断と理由。
pdf→画像→markdownにおけるLatex数式変換は見送る。（pix2textによるLatexの変換精度が低い。プレーンテキストで対応することに決定。）

## 8. メモ / 次アクション
- 残課題や今後の改善アイデア。
csv→xlsxの変換を検討する。
